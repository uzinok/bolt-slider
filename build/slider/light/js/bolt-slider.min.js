"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}var boltSlider=function(){function e(t){_classCallCheck(this,e);var i=this;return t?document.querySelector(t.slider)?(t.sliderPrew&&!document.querySelector(t.sliderPrew)&&(console.warn("Not options sliderPrew"),t.sliderPrew=!1),t.sliderNext&&!document.querySelector(t.sliderNext)&&(console.warn("Not options sliderNext"),t.sliderNext=!1),t.paginationWrap&&!document.querySelector(t.paginationWrap)&&(console.warn("Not options paginationWrap"),t.paginationWrap=!1),i.slider=document.querySelector(t.slider),i.slideAria=t.slideAria||"of",i.roledescription=t.roledescription||"carousel",i.slideRoledescription=t.slideRoledescription||"slide",i.gap=t.gap||0,i.currentSlide=t.currentSlide||0,i.speed=t.speed||300,i.autoPlay=t.autoPlay||!1,i.autoplaySpeed=t.autoplaySpeed||0,i.sliderPrew=document.querySelector(t.sliderPrew)||!1,i.sliderNext=document.querySelector(t.sliderNext)||!1,i.paginationWrap=document.querySelector(t.paginationWrap)||!1,i.paginationTag=t.paginationTag||"span",i.paginationClass=t.paginationClass||"bolt-slider__paginaton-btn",i.paginationAria=t.paginationAria||"Go to slide",i.slider.querySelector(".bolt-slider__list-wrap")?i.slider.querySelector(".bolt-slider__list")?i.slider.querySelector(".bolt-slider__item")?i.slider.querySelector(".bolt-slider__content")?(i.width=0,i.sliderListWrap=i.slider.querySelector(".bolt-slider__list-wrap"),i.sliderList=i.slider.querySelector(".bolt-slider__list"),i.sliderItems=i.sliderList.querySelectorAll(".bolt-slider__item"),i.sliderItems=Array.prototype.slice.call(i.sliderItems),i.slide=i.sliderList.querySelectorAll(".bolt-slider__content"),i.slideLength=i.sliderItems.length,i.paginations=[],i.removeActive=!1,i.checkAutoPlay=i.autoPlay,i.setIntervalAutoPlay=!1,i.currentSlide>i.slideLength&&(i.currentSlide=0),void i.sliderInit()):console.warn("Not slider contents"):console.warn("Not slider items"):console.warn("Not slider list"):console.warn("Not slider wrap list")):console.warn("Not slider"):console.warn("Not slider options")}return _createClass(e,[{key:"sliderInit",value:function(){var e=this;e.slider.classList.remove("bolt-no-js"),e.slider.setAttribute("aria-roledescription",e.roledescription);for(var t=0;t<e.slideLength;t++)e.sliderItems[t].ariaLive="off",e.sliderItems[t].setAttribute("aria-roledescription",e.slideRoledescription);e.setSliderSize(),window.addEventListener("resize",function(){e.setSliderSize(),e.moveSlider()}),e.paginationWrap&&e.setPagination(),e.sliderNext&&e.moveNext(),e.sliderPrew&&e.movePrew(),e.updateSlide(),e.moveSlider(),e.checkAutoPlay&&e.autoPlayControl()}},{key:"setSliderSize",value:function(){var e=this;e.width=e.slider.offsetWidth,e.sliderList.style.width=e.width*e.slideLength+e.gap*e.slideLength+"px",e.sliderList.style.height=e.sliderItems[e.currentSlide].querySelector(".bolt-slider__content").offsetHeight+"px",e.sliderItems.forEach(function(t){t.style.width=e.width+"px",e.gap&&(t.style.marginRight=e.gap+"px")})}},{key:"setPagination",value:function(){for(var e=this,t=function(t){var i=document.createElement(e.paginationTag);i.classList.add(e.paginationClass),e.paginationWrap.appendChild(i),"button"==e.paginationTag&&(i.ariaLabel=e.paginationAria+" "+(t+1)+".",i.addEventListener("click",function(){e.currentSlide=t,e.sliderAnimation(),e.moveSlider()})),e.paginations.push(i)},i=0;i<e.slideLength;i++)t(i)}},{key:"moveNext",value:function(){var e=this;e.sliderNext.addEventListener("click",function(){e.nextSlider()})}},{key:"nextSlider",value:function(){var e=this;if(e.currentSlide++,e.currentSlide>=e.slideLength)return e.currentSlide=e.slideLength-1;e.sliderAnimation(),e.moveSlider()}},{key:"movePrew",value:function(){var e=this;e.sliderPrew.addEventListener("click",function(){if(e.currentSlide--,e.currentSlide<0)return e.currentSlide=0;e.sliderAnimation(),e.moveSlider()})}},{key:"moveSlider",value:function(){var e=this;e.sliderList.style.transform="translateX(-".concat(e.currentSlide*e.width+e.gap*e.currentSlide,"px)"),e.sliderList.style.height=e.sliderItems[e.currentSlide].querySelector(".bolt-slider__content").offsetHeight+"px",e.paginationWrap&&e.updatePagination(),e.sliderNext&&e.updateSlideNext(),e.sliderPrew&&e.updateSlidePrew()}},{key:"updateSlide",value:function(){var e=this;e.sliderList.querySelector(".bolt-slider__item--active")&&(e.checkAutoPlay||(e.sliderList.querySelector(".bolt-slider__item--active").ariaLive="off"),e.sliderList.querySelector(".bolt-slider__item--active").classList.remove("bolt-slider__item--active")),e.sliderItems[e.currentSlide].classList.add("bolt-slider__item--active"),e.checkAutoPlay||(e.sliderItems[e.currentSlide].ariaLive="polite")}},{key:"updatePagination",value:function(){var e=this;e.paginationWrap.querySelector(".bolt-slider__pagination-btn--active")&&("button"==e.paginationTag&&(e.paginationWrap.querySelector(".bolt-slider__pagination-btn--active").disabled=!1),e.paginationWrap.querySelector(".bolt-slider__pagination-btn--active").classList.remove(e.paginationClass+"--active")),e.paginations[e.currentSlide].disabled=!0,e.paginations[e.currentSlide].classList.add(e.paginationClass+"--active")}},{key:"updateSlideNext",value:function(){var e=this;1==e.sliderNext.disabled&&e.currentSlide<e.slideLength-1&&(e.sliderNext.disabled=!1),e.currentSlide>=e.slideLength-1&&(e.sliderNext.disabled=!0)}},{key:"updateSlidePrew",value:function(){var e=this;1==e.sliderPrew.disabled&&e.currentSlide>0&&(e.sliderPrew.disabled=!1),e.currentSlide<=0&&(e.sliderPrew.disabled=!0)}},{key:"sliderAnimation",value:function(){var e=this;e.setAnimation(),e.sliderItems.forEach(function(e){e.classList.add("bolt-slider__item--active")}),setTimeout(function(){e.sliderItems.forEach(function(e){e.classList.remove("bolt-slider__item--active")}),e.removeAnimation(),e.updateSlide()},e.speed)}},{key:"setAnimation",value:function(){var e=this;e.sliderList.style.transitionDuration="".concat(e.speed,"ms, ").concat(e.speed,"ms")}},{key:"removeAnimation",value:function(){this.sliderList.style.transitionDuration="0ms, 0ms"}},{key:"drawAutoPlay",value:function(){var e=this;e.setIntervalAutoPlay=setInterval(function(){e.currentSlide==e.slideLength-1&&(e.currentSlide=-1),e.nextSlider()},e.autoplaySpeed)}},{key:"stopAutoPlay",value:function(){clearInterval(this.setIntervalAutoPlay)}},{key:"autoPlayControl",value:function(){var e=this;e.drawAutoPlay();var t=e.slider.addEventListener("mouseover",function(){e.stopAutoPlay()}),i=e.slider.addEventListener("mouseout",function(){e.checkAutoPlay&&(e.drawAutoPlay(),console.log("lll"))}),r=e.slider.addEventListener("click",function(){e.stopAutoPlay(),e.checkAutoPlay=!1,removeEventListener("mouseover",t,!1),removeEventListener("mouseout",i,!1),removeEventListener("click",r,!1)})}}]),e}();