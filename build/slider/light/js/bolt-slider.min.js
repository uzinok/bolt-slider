"use strict";function _classCallCheck(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,i){for(var t=0;t<i.length;t++){var r=i[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,i,t){return i&&_defineProperties(e.prototype,i),t&&_defineProperties(e,t),e}var boltSlider=function(){function e(i){_classCallCheck(this,e);var t=this;return i?document.querySelector(i.slider)?(i.sliderPrew&&!document.querySelector(i.sliderPrew)&&(console.warn("Not options sliderPrew"),i.sliderPrew=!1),i.sliderNext&&!document.querySelector(i.sliderNext)&&(console.warn("Not options sliderNext"),i.sliderNext=!1),i.paginationWrap&&!document.querySelector(i.paginationWrap)&&(console.warn("Not options paginationWrap"),i.paginationWrap=!1),t.slider=document.querySelector(i.slider),t.slideAria=i.slideAria||"of",t.roledescription=i.roledescription||"carousel",t.slideRoledescription=i.slideRoledescription||"slide",t.gap=i.gap||0,t.currentSlide=i.currentSlide||0,t.speed=i.speed||300,t.autoPlay=i.autoPlay||!1,t.sliderPrew=document.querySelector(i.sliderPrew)||!1,t.sliderNext=document.querySelector(i.sliderNext)||!1,t.paginationWrap=document.querySelector(i.paginationWrap)||!1,t.paginationTag=i.paginationTag||"span",t.paginationClass=i.paginationClass||"bolt-slider__paginaton-btn",t.paginationAria=i.paginationAria||"Go to slide",t.slider.querySelector(".bolt-slider__list-wrap")?t.slider.querySelector(".bolt-slider__list")?t.slider.querySelector(".bolt-slider__item")?t.slider.querySelector(".bolt-slider__content")?(t.width=0,t.sliderListWrap=t.slider.querySelector(".bolt-slider__list-wrap"),t.sliderList=t.slider.querySelector(".bolt-slider__list"),t.sliderItems=t.sliderList.querySelectorAll(".bolt-slider__item"),t.slide=t.sliderList.querySelectorAll(".bolt-slider__content"),t.slideLength=t.sliderItems.length,t.paginations=[],t.removeActive=!1,t.checkAutoPlay=t.autoPlay,t.currentSlide>t.slideLength&&(t.currentSlide=0),void t.sliderInit()):console.warn("Not slider contents"):console.warn("Not slider items"):console.warn("Not slider list"):console.warn("Not slider wrap list")):console.warn("Not slider"):console.warn("Not slider options")}return _createClass(e,[{key:"sliderInit",value:function(){var e=this;e.slider.classList.remove("bolt-no-js"),e.slider.setAttribute("aria-roledescription",e.roledescription);for(var i=0;i<e.slideLength;i++)e.sliderItems[i].ariaLive="off",e.sliderItems[i].setAttribute("aria-roledescription",e.slideRoledescription);e.setSliderSize(),window.addEventListener("resize",function(){e.setSliderSize(),e.moveSlider()}),e.paginationWrap&&e.setPagination(),e.sliderNext&&e.moveNext(),e.sliderPrew&&e.movePrew(),e.updateSlide(),e.moveSlider()}},{key:"setSliderSize",value:function(){var e=this;e.width=e.slider.offsetWidth,e.sliderList.style.width=e.width*e.slideLength+e.gap*e.slideLength+"px",e.sliderList.style.height=e.sliderItems[e.currentSlide].querySelector(".bolt-slider__content").offsetHeight+"px",e.sliderItems.forEach(function(i){i.style.width=e.width+"px",e.gap&&(i.style.marginRight=e.gap+"px")})}},{key:"setPagination",value:function(){for(var e=this,i=function(i){var t=document.createElement(e.paginationTag);t.classList.add(e.paginationClass),e.paginationWrap.append(t),"button"==e.paginationTag&&(t.ariaLabel=e.paginationAria+" "+(i+1)+".",t.addEventListener("click",function(){e.currentSlide=i,e.sliderAnimation(),e.moveSlider()})),e.paginations.push(t)},t=0;t<e.slideLength;t++)i(t)}},{key:"moveNext",value:function(){var e=this;e.sliderNext.addEventListener("click",function(){if(e.currentSlide++,e.currentSlide>=e.slideLength)return e.currentSlide=e.slideLength-1;e.sliderAnimation(),e.moveSlider()})}},{key:"movePrew",value:function(){var e=this;e.sliderPrew.addEventListener("click",function(){if(e.currentSlide--,e.currentSlide<0)return e.currentSlide=0;e.sliderAnimation(),e.moveSlider()})}},{key:"moveSlider",value:function(){var e=this;e.sliderList.style.transform="translateX(-".concat(e.currentSlide*e.width+e.gap*e.currentSlide,"px)"),e.sliderList.style.height=e.sliderItems[e.currentSlide].querySelector(".bolt-slider__content").offsetHeight+"px",e.paginationWrap&&e.updatePagination(),e.sliderNext&&e.updateSlideNext(),e.sliderPrew&&e.updateSlidePrew()}},{key:"updateSlide",value:function(){var e=this;e.sliderList.querySelector(".bolt-slider__item--active")&&(e.checkAutoPlay||(e.sliderList.querySelector(".bolt-slider__item--active").ariaLive="off"),e.sliderList.querySelector(".bolt-slider__item--active").classList.remove("bolt-slider__item--active")),e.sliderItems[e.currentSlide].classList.add("bolt-slider__item--active"),e.checkAutoPlay||(e.sliderItems[e.currentSlide].ariaLive="polite")}},{key:"updatePagination",value:function(){var e=this;e.paginationWrap.querySelector(".bolt-slider__pagination-btn--active")&&("button"==e.paginationTag&&(e.paginationWrap.querySelector(".bolt-slider__pagination-btn--active").disabled=!1),e.paginationWrap.querySelector(".bolt-slider__pagination-btn--active").classList.remove(e.paginationClass+"--active")),e.paginations[e.currentSlide].disabled=!0,e.paginations[e.currentSlide].classList.add(e.paginationClass+"--active")}},{key:"updateSlideNext",value:function(){var e=this;1==e.sliderNext.disabled&&e.currentSlide<e.slideLength-1&&(e.sliderNext.disabled=!1),e.currentSlide>=e.slideLength-1&&(e.sliderNext.disabled=!0)}},{key:"updateSlidePrew",value:function(){var e=this;1==e.sliderPrew.disabled&&e.currentSlide>0&&(e.sliderPrew.disabled=!1),e.currentSlide<=0&&(e.sliderPrew.disabled=!0)}},{key:"sliderAnimation",value:function(){var e=this;e.setAnimation(),e.sliderItems.forEach(function(e){e.classList.add("bolt-slider__item--active")}),setTimeout(function(){e.sliderItems.forEach(function(e){e.classList.remove("bolt-slider__item--active")}),e.removeAnimation(),e.updateSlide()},e.speed)}},{key:"setAnimation",value:function(){var e=this;e.sliderList.style.transitionDuration="".concat(e.speed,"ms, ").concat(e.speed,"ms")}},{key:"removeAnimation",value:function(){this.sliderList.style.transitionDuration="0ms, 0ms"}}]),e}();