"use strict";function _classCallCheck(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(i,t){for(var e=0;e<t.length;e++){var s=t[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function _createClass(i,t,e){return t&&_defineProperties(i.prototype,t),e&&_defineProperties(i,e),i}var boltSlider=function(){function i(t){return _classCallCheck(this,i),t?t.slider?(this.slider=t.slider,this.gap=t.gap||0,this.countVisible=t.countVisible||0,this.speed=t.speed||300,this.sliderPrew=t.sliderPrew||!1,this.sliderNext=t.sliderNext||!1,this.paginationWrap=t.paginationWrap||!1,this.paginationTag=t.paginationTag||"span",this.paginationClass=t.paginationClass||"bolt-slider__paginaton-btn",this.paginationAria=t.paginationAria||"Go to slide",this.width=0,this.sliderList=this.slider.querySelector(".bolt-slider__list"),this.sliderListWrap=this.slider.querySelector(".bolt-slider__list-wrap"),this.slides=this.sliderList.querySelectorAll(".bolt-slider__item"),this.slideLength=this.slides.length,this.paginations=[],this.sliderInit(),this.startClientX=0,this.touchMove=0,void this.touthMove()):console.warn("Not slider"):console.warn("Not slider options")}return _createClass(i,[{key:"sliderInit",value:function(){var i=this;this.slider.classList.remove("bolt-no-js"),this.setSliderSize(),window.addEventListener("resize",function(){i.setSliderSize(),i.sliderDraw()}),this.sliderToggle(),this.sliderDraw()}},{key:"setSliderSize",value:function(){var i=this;this.width=this.slider.offsetWidth,this.sliderList.style.width=this.width*this.slideLength+this.gap*this.slideLength+"px",this.slides.forEach(function(t){t.style.width=i.width+"px",i.gap&&(t.style.marginRight=i.gap+"px")})}},{key:"sliderToggle",value:function(){var i=this;this.sliderPrew&&this.sliderPrew.addEventListener("click",function(){if(i.countVisible--,i.countVisible<0)return i.countVisible=0;i.sliderAnimation()}),this.sliderNext&&this.sliderNext.addEventListener("click",function(){if(i.countVisible++,i.countVisible>=i.slideLength)return i.countVisible=i.slideLength-1;i.sliderAnimation()}),this.paginationWrap&&this.setPagination()}},{key:"setPagination",value:function(){for(var i=this,t=function(t){var e=document.createElement(i.paginationTag);e.classList.add(i.paginationClass),i.paginationWrap.append(e),"button"==i.paginationTag&&(e.dataset.count=t,e.ariaLabel=i.paginationAria+" "+(t+1),e.addEventListener("click",function(){i.countVisible=t,i.sliderAnimation()})),i.paginations.push(e)},e=0;e<this.slideLength;e++)t(e)}},{key:"sliderDraw",value:function(){this.sliderList.style.transform="translateX(-".concat(this.countVisible*this.width+this.gap*this.countVisible,"px)"),1==this.sliderPrew.disabled&&(this.sliderPrew.disabled=!1),this.sliderPrew&&this.countVisible<=0&&(this.sliderPrew.disabled=!0),1==this.sliderNext.disabled&&(this.sliderNext.disabled=!1),this.sliderNext&&this.countVisible>=this.slideLength-1&&(this.sliderNext.disabled=!0),"button"==this.paginationTag&&(this.paginationWrap&&this.paginationWrap.querySelector(":disabled")&&(this.paginationWrap.querySelector(":disabled").disabled=!1),this.paginations[this.countVisible].disabled=!0),this.paginationWrap&&(this.paginationWrap.querySelector("."+this.paginationClass+"--active")&&this.paginationWrap.querySelector("."+this.paginationClass+"--active").classList.remove(this.paginationClass+"--active"),this.paginations[this.countVisible].classList.add(this.paginationClass+"--active")),this.sliderList.querySelector(".bolt-slider__item--active")&&this.sliderList.querySelector(".bolt-slider__item--active").classList.remove("bolt-slider__item--active"),this.sliderList.querySelectorAll(".bolt-slider__item")[this.countVisible].classList.add("bolt-slider__item--active")}},{key:"sliderAnimation",value:function(){var i=this;this.sliderList.style.transition="transform ".concat(this.speed,"ms ease-in-out, height ").concat(this.speed,"ms ease-in-out"),this.sliderDraw(),setTimeout(function(){i.sliderList.style.transition="transform 0ms ease-in-out, height 0ms ease-in-out"},this.speed)}},{key:"touthMove",value:function(){var i=this;this.sliderList.addEventListener("touchstart",function(t){i.startClientX=t.touches[0].clientX}),this.sliderList.addEventListener("touchmove",function(t){i.touchMove=i.startClientX-t.touches[0].clientX,i.countVisible*i.width+i.gap*i.countVisible+i.touchMove>=0&&i.countVisible*i.width+i.gap*i.countVisible+i.touchMove<=i.width*(i.slideLength-1)+i.gap*(i.slideLength-1)&&(i.sliderList.style.transform="translateX(-".concat(i.countVisible*i.width+i.gap*i.countVisible+i.touchMove,"px)"))}),this.sliderList.addEventListener("touchend",function(t){if(i.touchMove<30&&i.touchMove>-30)return i.sliderAnimation();i.touchMove>0&&(i.countVisible++,i.countVisible>=i.slideLength-1&&(i.countVisible=i.slideLength-1),i.sliderAnimation()),i.touchMove<0&&(i.countVisible--,i.countVisible<0&&(i.countVisible=0),i.sliderAnimation()),i.touchMove=0})}}]),i}();